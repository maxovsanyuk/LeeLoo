(this.webpackJsonpleeloo=this.webpackJsonpleeloo||[]).push([[0],{125:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),c=n.n(o),i=n(49),l=n(21),s=n(33),u=n(26),m=n.n(u),p=n(9),f=n(42);function d(e){return{type:"APP/SET_OFFSET",payload:e}}function b(e){return E.apply(this,arguments)}function E(){return(E=Object(f.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,a=t.url,e.next=3,fetch(a,{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n),"Content-Type":"application/json","X-Leeloo-AuthToken":n}});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=n(17),g=n(22),v=n(148),O=n(152),j=n(151),k=n(146),y=n(149),x=n(150),w=n(147),A=n(153),P=n(156),_=n(155),D=n(144),L=n(154),S=n(5),N=n(45),T=n.n(N),z=n(46),I=n.n(z),R=n(27);function C(){var e=Object(l.a)(["\n  .go-back-btn {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    background: #5e9ab4;\n    color: aliceblue;\n    font-weight: 600;\n    &:hover {\n      color: #5e9ab4;\n      background: #d5d5d5;\n    }\n  }\n"]);return C=function(){return e},e}var M=g.a.div(C()),U=function(e){var t=e.style;return r.a.createElement(M,null,r.a.createElement(D.a,{className:"go-back-btn",style:t,variant:"contained"},"Go back"))};function H(){var e=Object(l.a)(["\n  display: flex;\n  position: fixed;\n  background: rgba(110, 114, 114, 0.9);\n  z-index: 10;\n  right: 0;\n  left: 0;\n  top: 0;\n  bottom: 0;\n\n  .table-cont {\n    position: absolute;\n    width: 90%;\n    margin: 15% 5% 5% 5%;\n  }\n\n  .err-alert {\n    height: max-content;\n    position: relative;\n    top: 20px;\n    left: 65px;\n  }\n\n  .table-row {\n    border-bottom: 2px solid #999;\n  }\n  .table-cell {\n    font-size: 18px;\n  }\n"]);return H=function(){return e},e}var W=g.a.div(H()),X=["Order Id","Price","Currency","Payment method","Status"],F=function(e){var t,n=e.setIsAddInfo,a=e.user.addUserData;return r.a.createElement(W,{onClick:function(){return n(!1)}},r.a.createElement(U,null),r.a.createElement(k.a,{className:"table-cont",component:w.a,onClick:function(e){return e.stopPropagation()}},r.a.createElement(v.a,{"aria-label":"simple table"},r.a.createElement(y.a,null,r.a.createElement(x.a,{className:"table-row"},X.map((function(e){return r.a.createElement(j.a,{key:e,align:"center"},e)})))),r.a.createElement(O.a,null,null===a||void 0===a||null===(t=a.included)||void 0===t?void 0:t.orders.map((function(e){var t=[e.id,e.price,e.currency,e.title,e.status];return r.a.createElement(x.a,{key:e.id,hover:!0,style:{cursor:"pointer"}},t.map((function(e){return r.a.createElement(j.a,{className:"table-cell",key:e,align:"center"},e)})))}))))),!a.included.orders.length&&r.a.createElement(P.a,{className:"err-alert",severity:"error"},"User has no orders"))};function Y(){var e=Object(l.a)(["\n  width: 90%;\n  position: relative;\n  margin: 100px auto;\n  opacity: 0.85;\n\n  .table-row {\n    border-bottom: 2px solid #999;\n  }\n\n  .table-cell {\n    font-size: 18px;\n  }\n\n  .add-info-btn {\n    background: #5e9ab4;\n    color: aliceblue;\n  }\n\n  .linear-progress {\n    width: 100%;\n    position: absolute;\n    bottom: 60px;\n    z-index: 1;\n  }\n\n  .pagination {\n    display: flex;\n    justify-content: center;\n    margin: 30px auto;\n    width: 50%;\n  }\n"]);return Y=function(){return e},e}var B=n(123),G=Object(S.a)({colorPrimary:{backgroundColor:"#b2dfdb"},barColorPrimary:{backgroundColor:"#00695c"}})(A.a),J=g.a.div(Y()),V=["#","Name","Messenger","Time of last message","Additional information"],q=function(){var e=Object(s.b)(),t=Object(a.useState)(!1),n=Object(i.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)(!1),u=Object(i.a)(l,2),E=u[0],g=u[1],A=Object(s.c)((function(e){return e.app})),S=A.usersData,N=A.limit,z=A.token,C=A.isloading,M=A.offset,U=A.offsetLimit,H=Object(h.f)().page,W=void 0===H?1:H;return Object(a.useEffect)((function(){e(function(e){var t=e.limit,n=e.offset,a=e.token;return function(){var e=Object(f.a)(m.a.mark((function e(r){var o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:"APP/SHOW_LOADER"}),e.next=4,b({token:a,url:"https://api.leeloo.ai/api/v1/accounts?limit=".concat(t,"&offset=").concat(n)});case 4:return o=e.sent,e.next=7,Promise.all(o.data.map(function(){var e=Object(f.a)(m.a.mark((function e(r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=p.a,e.t1=Object(p.a)({},r),e.t2={},e.next=5,b({token:a,url:"https://api.leeloo.ai/api/v1/accounts/".concat(r.id,"?include=contactedUsers,orders&limit=").concat(t,"&offset=").concat(n)});case 5:return e.t3=e.sent,e.t4={addUserData:e.t3},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t4));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:c=e.sent,r({type:"APP/LOAD_USERS_DATA",payload:c}),r({type:"APP/HIDE_LOADER"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.warn(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}({limit:N,offset:M,token:z}))}),[M]),Object(a.useEffect)((function(){e(d(Math.abs(parseInt(W))))}),[W]),r.a.createElement(J,null,o&&r.a.createElement(F,{user:E,setIsAddInfo:c}),r.a.createElement(k.a,{component:w.a},r.a.createElement(v.a,{"aria-label":"simple table"},r.a.createElement(y.a,null,r.a.createElement(x.a,{className:"table-row"},V.map((function(e){return r.a.createElement(j.a,{key:e,align:"center",className:"table-cell"},e)})))),r.a.createElement(O.a,null,T()(S)?I()(1,N+1,1).map((function(e){return r.a.createElement(x.a,{key:e},I()(1,6,1).map((function(e){return r.a.createElement(j.a,{key:e},r.a.createElement(L.a,{animation:"wave",height:36}))})))})):S.map((function(e,t){return r.a.createElement(x.a,{key:e.id,hover:!0,style:{cursor:"pointer"}},r.a.createElement(j.a,{align:"center"},t+1),r.a.createElement(j.a,{align:"center"},e.name),r.a.createElement(j.a,{align:"center"},e.from),r.a.createElement(j.a,{align:"center"},B(e.createdAt).format("MMMM Do YYYY, h:mm:ss a")),r.a.createElement(j.a,{align:"center"},r.a.createElement(D.a,{variant:"contained",className:"add-info-btn",onClick:function(){return function(e){g(e),c(!o),document.body.style.overflow="hidden"}(e)}},"Get additional information")))})))),C&&r.a.createElement(G,{className:"linear-progress "}),!C&&S&&T()(S)&&r.a.createElement(P.a,{severity:"error"},"No users datas, comming soon")),r.a.createElement(R.b,{style:{textDecoration:"none"},to:"/LeeLoo/page/".concat(M),target:!0},r.a.createElement(_.a,{className:"pagination",count:M>U?W:U,page:M,onChange:function(t,n){e(d(Math.abs(n)))}})))},$=n(67),K=n.n($);function Q(){var e=Object(l.a)(["\n  display: flex;\n  position: relative;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  width: 100%;\n  background: #fff url(",") no-repeat center;\n  background-size: 40%;\n\n  .go-back-btn {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    background: #5e9ab4;\n    color: aliceblue;\n    font-weight: 600;\n    &:hover {\n      color: #5e9ab4;\n    }\n  }\n"]);return Q=function(){return e},e}var Z=g.a.div(Q(),K.a),ee=function(){return r.a.createElement(Z,null,r.a.createElement(R.b,{to:"/"},r.a.createElement(U,null)))},te=function(){return r.a.createElement(R.a,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/LeeLoo/",component:q}),r.a.createElement(h.a,{exact:!0,path:"LeeLoo/page/:page",component:q}),r.a.createElement(h.a,{render:function(){return r.a.createElement(ee,null)}})))},ne=n(24),ae=n(68),re={isloading:!1,isAlert:!1,token:"cmpc3hcajyh3e5ksz6xho9t77flp4pesa300js9y8w9v6xptzj0vlk0halesk27hgqslukjxpepzkmaz6jpfj8zw0x5fwsajezvb",limit:10,offset:1,offsetLimit:100},oe=Object(ne.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"APP/SHOW_LOADER":return Object(p.a)(Object(p.a)({},e),{},{isloading:!0});case"APP/HIDE_LOADER":return Object(p.a)(Object(p.a)({},e),{},{isloading:!1});case"APP/SHOW_ALERT":return Object(p.a)(Object(p.a)({},e),{},{isAlert:!0});case"APP/HIDE_ALERT":return Object(p.a)(Object(p.a)({},e),{},{isAlert:null});case"APP/LOAD_USERS_DATA":return Object(p.a)(Object(p.a)({},e),{},{isAlert:null,usersData:a});case"APP/SET_OFFSET":return Object(p.a)(Object(p.a)({},e),{},{offset:a});default:return Object(p.a)({},e)}}}),ce=n(69),ie=n.n(ce);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le=Object(ne.e)(oe,Object(ne.d)(Object(ne.a)(ie.a,ae.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:le},r.a.createElement(te,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,n){e.exports=n.p+"static/media/404.ba9f1973.gif"},80:function(e,t,n){e.exports=n(125)}},[[80,1,2]]]);
//# sourceMappingURL=main.45fd1122.chunk.js.map